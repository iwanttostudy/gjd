(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/goods-detail/goods-detail"],{"0f39":function(n,o,e){"use strict";e.d(o,"b",(function(){return u})),e.d(o,"c",(function(){return i})),e.d(o,"a",(function(){return t}));var t={uSwiper:function(){return e.e("uview-ui/components/u-swiper/u-swiper").then(e.bind(null,"4eea"))},uIcon:function(){return e.e("uview-ui/components/u-icon/u-icon").then(e.bind(null,"7e78"))},uniGoodsNav:function(){return e.e("components/uni-goods-nav/uni-goods-nav").then(e.bind(null,"e7ee"))},uPopup:function(){return e.e("uview-ui/components/u-popup/u-popup").then(e.bind(null,"4ed5"))},uImage:function(){return e.e("uview-ui/components/u-image/u-image").then(e.bind(null,"e268"))},uForm:function(){return e.e("uview-ui/components/u-form/u-form").then(e.bind(null,"9941"))},uFormItem:function(){return Promise.all([e.e("common/vendor"),e.e("uview-ui/components/u-form-item/u-form-item")]).then(e.bind(null,"0a33"))},uNumberBox:function(){return e.e("uview-ui/components/u-number-box/u-number-box").then(e.bind(null,"b543"))},uInput:function(){return Promise.all([e.e("common/vendor"),e.e("uview-ui/components/u-input/u-input")]).then(e.bind(null,"dce3"))},uButton:function(){return e.e("uview-ui/components/u-button/u-button").then(e.bind(null,"a28a"))},uTopTips:function(){return e.e("uview-ui/components/u-top-tips/u-top-tips").then(e.bind(null,"8a41"))}},u=function(){var n=this,o=n.$createElement,e=(n._self._c,n._f("formatRichText")(n.goodsInfo.introduce));n._isMounted||(n.e0=function(o){return n.$f.jump("/pages/shop/address-choose/address-choose")}),n.$mp.data=Object.assign({},{$root:{f0:e}})},i=[]},1214:function(n,o,e){"use strict";var t=e("19db"),u=e.n(t);u.a},"19db":function(n,o,e){},"1ffa":function(n,o,e){"use strict";(function(n){e("2be1");t(e("66fd"));var o=t(e("fd74"));function t(n){return n&&n.__esModule?n:{default:n}}n(o.default)}).call(this,e("543d")["createPage"])},a3ad:function(n,o,e){"use strict";e.r(o);var t=e("f020"),u=e.n(t);for(var i in t)"default"!==i&&function(n){e.d(o,n,(function(){return t[n]}))}(i);o["default"]=u.a},f020:function(n,o,e){"use strict";(function(n){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e={data:function(){return{addresTxt:"请选择",showAddress:!1,goodsId:"",goodsInfo:{},sysInfo:this.$u.sys(),options:[{icon:"headphones",text:"客服"},{icon:"star",text:"种草",info:0}],buttonGroup:[{text:"立即购买",backgroundColor:"#ffa200",color:"#fff"}],showPopup:!1,address:{},form:{goods_id:"",goods_num:1,address_id:"",remark:""}}},onLoad:function(n){this.goodsId=n.id,this.getGoodsInfo()},methods:{onAddress:function(n){this.form.region=n.province.label+n.city.label+n.area.label},onClick:function(o){0==o.index&&n.makePhoneCall({phoneNumber:"18888888888"}),o.index},getCartNum:function(){var n=this;this.$H.get("goods/cartGoodsList").then((function(o){o.data.length>0&&(n.options[1].info=o.data.length)}))},buttonClick:function(n){0===n.index&&(this.showPopup=!0)},wxPay:function(){var o=this;if(!this.form.address_id)return this.$refs.uTips.show({title:"请选择地址",type:"warning"}),void n.hideLoading();n.showLoading({title:"加载中",mask:!0}),this.$H.post("order/create",this.form).then((function(e){var t=e.result;n.requestPayment({provider:"wxpay",timeStamp:String(t.timeStamp),nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.sign,success:function(e){o.showPopup=!1,n.navigateTo({url:"/pages/jump/jump?order_id="+t.orderId})},fail:function(n){o.$u.toast("已取消支付或支付失败")}}),n.hideLoading()}))},getGoodsInfo:function(){var n=this;this.$H.get("goods/detail",{id:this.goodsId}).then((function(o){n.goodsInfo=o.result,n.form.goods_id=n.goodsInfo.goods_id}))}},filters:{formatRichText:function(n){var o=n.replace(/<img[^>]*>/gi,(function(n,o){return-1==n.search(/style=/gi)&&(n=n.replace(/\<img/gi,'<img style=""')),n}));return o=o.replace(/style="/gi,"$& max-width:100% !important; "),o=o.replace(/<br[^>]*\/>/gi,""),o}}};o.default=e}).call(this,e("543d")["default"])},fd74:function(n,o,e){"use strict";e.r(o);var t=e("0f39"),u=e("a3ad");for(var i in u)"default"!==i&&function(n){e.d(o,n,(function(){return u[n]}))}(i);e("1214");var r,s=e("f0c5"),a=Object(s["a"])(u["default"],t["b"],t["c"],!1,null,"0061a1e4",null,!1,t["a"],r);o["default"]=a.exports}},[["1ffa","common/runtime","common/vendor"]]]);